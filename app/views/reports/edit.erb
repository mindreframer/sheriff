<% if deputy_plugin = @report.deputy_plugin %>
  Reported by <%= link_to_object deputy_plugin.plugin %> @ <%= link_to_object @report.deputy %>
  every <%= deputy_plugin.humanized_interval %>
<% else %>
  Reported by <%= link_to_object @report.deputy %> 
<% end %>
in group: <%= link_to_object @report.group %>

<br />

<%= form_for @report do |f| %>
  <%= render 'validation_form', :f => f %>
  <%= f.submit %>
<% end %>

<h3>Alerts</h3>
<div style="max-height:200px; overflow:auto">
  <table>
    <% @report.alerts.each do |alert| %>
      <tr <%= error_attribute alert %>>
        <td><%= detailed_time alert.created_at %></td>
        <td><%= alert.message %></td>
        <td><%= link_to_delete alert, :text => 'x' %></td>
      </tr>
    <% end %>
  </table>
</div>


<h3>Values</h3>
<div style="max-height:600px; overflow:auto">
  <table>
    <tr>
      <th>Value</th>
      <th>Reported at</th>
    </tr>
    <% @report.historic_values_including_current.each do |historic_value| %>
      <tr <%= error_attribute(historic_value) %>>
        <td><%= historic_value.value_as_text %></td>
        <td><%= detailed_time historic_value.reported_at %></td>
      </tr>
    <% end %>
  </table>
</div>