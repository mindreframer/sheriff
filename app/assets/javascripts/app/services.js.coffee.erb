# http://docs.angularjs.org/#!angular.service *

<%# here only basic routes, extend, if needed! %>
<% Sheriff::EXPOSED_MODELS.map{|x| x.pluralize.downcase}.each do |m| %>
angular.service('<%= m.humanize %>', ($resource)->
 $resource('<%= m %>/:id/:action', { id: '@<%= m.singularize %>.id', action: '@action'},
                'index':  { method: 'GET', isArray: true, params:{page:1} },
                'show':   { method: 'GET' },
                'create': { method: 'POST' },
                'update': {
                  method: 'PUT'
                  action: 'update',
                  isArray: false
                },
                'save': {
                  method:'PUT',
                  action: 'update',
                  isArray: false
                },
                'destroy': {
                  method: 'DELETE',
                  action: 'destroy',
                  isArray: false
                }
          );
);
<% end %>

angular.service('Settings', ($resource)->
 $resource('settings', {},
                  { 'index': { method: 'GET' }});
);
